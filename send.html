<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Server WhatsApp</title>
    <meta
      name="description"
      content="Kirim tagihan melalui WhatsApp secara otomatis."
    />
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes"
    />
    <link rel="icon" type="image/svg" href="./assets/icon.svg" />
    <link rel="stylesheet" type="text/css" href="./assets/main.css" />
  </head>
  <body>
    <header>
      <img src="./assets/logo.svg" />
      <p>Kirim tagihan (atau pesan apapun) melalui WhatsApp secara otomatis.</p>
    </header>
    <main>
      <section>
        <div class="card">
          <div class="title">Server</div>
          <div class="body server-input">
            <input type="text" id="server" value="" />
            <button
              id="save-server"
              onclick="toast('fitur simpan belum tersedia')"
            >
              Simpan
            </button>
          </div>
        </div>
      </section>
      <section class="preview-card preview-hidden">
        <div class="card">
          <div class="title">Preview</div>
          <div class="body">
            <p>preview dari semua pesan akan muncul di sini.</p>
            <div class="outer-preview-wrapper">
              <div class="preview-wrapper"></div>
            </div>
            <div class="footer">
              <div></div>
              <button id="send" onclick="sendMessages()">kirim</button>
            </div>
          </div>
        </div>
      </section>
      <section class="middle">
        <div>
          <div class="card data-area">
            <div class="title">Data</div>
            <div class="body data-input">
              <div class="table-wrapper">
                <table>
                  <thead></thead>
                  <tbody></tbody>
                </table>
              </div>
              <div class="pull-tab"></div>
              <textarea
                id="data"
                autofocus
                placeholder="Tempelkan data anda dari excel/google sheets di sini. pastikan baris pertama merupakan nama dari kolomnya. pastikan kolom pertama merupakan nomor whatsapp tujuan."
              >
              nomor	nama	tagihan
              6288217201563	Orang	Rp 10.000
              6288217201563	Orang	Rp 10.001
              6288217201563	Orang	Rp 10.002
              6288217201563	Orang	Rp 10.003
              6288217201563	Orang	Rp 10.004
              6288217201563	Orang	Rp 10.005
              6288217201563	Orang	Rp 10.006
              6288217201563	Orang	Rp 10.007
              6288217201563	Orang	Rp 10.008
              6288217201563	Orang	Rp 10.009
              6288217201563	Orang	Rp 10.010
              6288217201563	Orang	Rp 10.011
              6288217201563	Orang	Rp 10.012
              6288217201563	Orang	Rp 10.013
              6288217201563	Orang	Rp 10.014
              6288217201563	Orang	Rp 10.015
              6288217201563	Orang	Rp 10.016</textarea
              >
            </div>
            <div class="footer">
              <button id="format" onclick="formatData()">format</button>
              <!-- <button
                id="save-template"
                class="outline"
                onclick="toast('fitur simpan belum tersedia')"
              >
                simpan
              </button> -->
              <button class="outline" id="reset" onclick="resetData()">
                reset
              </button>
              <button class="outline" id="edit" onclick="editData()">
                edit & simpan
              </button>
            </div>
          </div>
        </div>
        <div class="progress-area-wrapper">
          <div class="card progress-area">
            <div class="title">Progress</div>
            <div class="body">
              <h3>2/6</h3>
              <p class="loading-dots">Sending</p>
            </div>
          </div>
        </div>
        <div class="template-area-wrapper">
          <div class="card template-area">
            <div class="title">Template</div>
            <div class="body">
              <div class="pull-tab"></div>
              <textarea
                id="template"
                placeholder="Masukkan template pesan anda di sini"
              >
Pelanggan Yth,
          
              Bersama ini kami informasikan tagihan Wabill Anda {nomor} atas nama {nama}, bln tagihan 08-2021 sebesar {tagihan} akan jatuh tempo pada tanggal 05-09-2021.
          
              Mohon segera lakukan pembayaran agar Wabill Anda tdk terisolir.
          
              Abaikan notifikasi ini jika sudah melakukan pembayaran.
          
              Terima kasih</textarea
              >
            </div>
            <div class="footer">
              <div></div>
              <button id="preview" onclick="previewMessage()">preview</button>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer>
      <p title="dibuat pada 5 Maret 2021 - ">
        dibuat dengan <span>&hearts;</span> oleh
        <a href="https://github.com/Ariefna">Arief Nur Abdullah</a>
      </p>
    </footer>
    <script src="./assets/main.js"></script>
    <script>
      document.getElementById("server").value = window.location.origin;
      var nomorget = localStorage.getItem("nomor");
      if (nomorget != null) {
        document.getElementById("data").value = nomorget;
      }
      document.getElementById("server").value = window.location.origin;
    </script>
  </body>
</html>
